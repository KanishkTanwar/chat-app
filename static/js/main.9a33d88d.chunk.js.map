{"version":3,"sources":["history.js","App.js","components/chat-box/chat-box.component.jsx","components/auth/auth.component.jsx","index.js"],"names":["history","createBrowserHistory","App","React","Component","state","userName","onNameSubmit","e","preventDefault","setState","push","reactDom","render","document","querySelector"],"mappings":"6PAIeA,EAFCC,c,+BCOVC,GCJgBC,IAAMC,U,MCFTD,IAAMC,U,kNFOrBC,MAAQ,CAACC,SAAS,I,EAClBC,aAAe,SAACC,EAAGF,GACfE,EAAEC,iBACF,EAAKC,SAAS,CAACJ,SAAUA,IACzBN,EAAQW,KAAK,U,4CAGjB,WACI,OAcA,aAbA,CAaA,2B,GAvBUR,IAAMC,YA4BTF,IGjCfU,IAASC,OACL,cAAC,EAAD,IACAC,SAASC,cAAc,Y","file":"static/js/main.9a33d88d.chunk.js","sourcesContent":["import { createBrowserHistory } from \"history\";\n\nconst history = createBrowserHistory();\n\nexport default history;","import React from \"react\";\nimport { Router, Route } from 'react-router-dom';\nimport history from \"./history\";\n\nimport ChatBox from \"./components/chat-box/chat-box.component\";\nimport Auth from './components/auth/auth.component';\nimport Rooms from './components/rooms/rooms.component';\nimport './App.css';\n\nclass App extends React.Component{\n    state = {userName:\"\"}\n    onNameSubmit = (e, userName) => {\n        e.preventDefault();\n        this.setState({userName: userName});\n        history.push(\"/chat\");\n    }\n\n    render(){\n        return (\n        // <div>\n        //     <Router history={history}>\n        //         <Route path=\"/\" exact>\n        //             <Auth onNameSubmit={this.onNameSubmit}/>\n        //         </Route>\n        //         <Route path=\"/rooms\" exact>\n        //             <Rooms/>\n        //         </Route>\n        //         <Route path=\"/chat\">\n        //             <ChatBox userName={this.state.userName}/>\n        //         </Route>\n        //     </Router>\n        // </div>\n        <h1>asd</h1>\n        )\n    }\n}\n\nexport default App;","import React from 'react';\nimport { io } from \"socket.io-client\";\nimport history from '../../history';\nimport './chat-box.styles.css'\n\nclass ChatBox extends React.Component {\n    state = {serverMessage: [], inputText:\"\", clientCount:0}\n    socket = null;\n    myRef = React.createRef();\n    componentDidMount(){\n        if(!this.props.userName){history.push(\"/\");return;}\n        // to connect with a socket\n        console.log(history);\n        this.socket = io(\"https://chat-app-co.herokuapp.com/\", {transports:[\"polling\", \"websocket\"]});\n\n        //listening to custom event Message which display all the message\n        this.socket.on(\"serverMessage\", (message) => {\n            this.setState({serverMessage: [...this.state.serverMessage, ...message]});\n            this.myRef.current.scrollIntoView({behavior: \"smooth\"})\n        });\n\n        //listening for clientCount event\n        this.socket.on(\"clientCount\", (clientCount) => {\n            this.setState({clientCount: clientCount});\n        })\n    }\n    onChatSubmit = (e) => {\n        e.preventDefault();\n        this.socket.emit(\"userMessage\",this.state.inputText, this.props.userName);\n        this.setState({inputText: \"\"})\n    }\n    componentWillUnmount() {\n        this.setState = (state, callback)=>{\n            return;\n        }\n\n        //emit an event user just unmounted\n        if(this.socket)this.socket.emit(\"removeClient\",this.socket.id);\n    }\n    \n    render(){\n        return(\n            <section className=\"chat\">  \n                <h1 className=\"chat__heading\">Welcome {this.props.userName}</h1>\n                <h4 className=\"chat__secondary\">Total users connected {this.state.clientCount}</h4>\n                <div className=\"chat__pane\">\n                    {this.state.serverMessage.map(\n                        messageListItem => {\n                            return(\n                                <ul key={messageListItem.uuid}>\n                                <li className=\"chat__description\" >\n                                    <span className={messageListItem.userName===this.props.userName? \"usernameBlue\": \"usernameRed\"}>{messageListItem.userName}</span>: <span>{messageListItem.message}</span>\n                                </li>\n                                <div className=\"chat__border\" ref={this.myRef}/>\n                                </ul>\n                            )\n                        }\n                    )}\n                </div>\n                <form className=\"chat__form\"onSubmit={(e)=>this.onChatSubmit(e)}>\n                    <input className=\"chat__input\" type=\"text\" value={this.state.inputText} onChange={ (e)=>this.setState({inputText: e.target.value}) }/>\n                    <button className=\"chat__button\" type=\"submit\">Send</button>\n                </form>\n            </section>\n        )\n    }\n}\n\nexport default ChatBox;","import React from 'react';\nimport './auth.styles.css';\n\nclass Auth extends React.Component {\n    state = {userName:\"\"}\n    render(){\n        return (\n            <section className=\"auth\">\n                <form className=\"auth__form\"onSubmit={(e)=>this.props.onNameSubmit(e,this.state.userName)}>\n                    <input className=\"auth__input\" onChange={(e)=> this.setState({userName: e.target.value})}type=\"text\" placeholder=\"what is your name\"/>\n                    <button className=\"auth__button\" type=\"submit\">Enter</button>\n                </form>\n            </section>\n        )\n    }\n}\nexport default Auth;","import React from \"react\";\nimport reactDom from \"react-dom\";\nimport App from \"./App\";\n\nreactDom.render(\n    <App/>,\n    document.querySelector(\"#root\")\n)"],"sourceRoot":""}
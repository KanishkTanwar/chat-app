{"version":3,"sources":["redux/user/user.reducer.js","redux/socket/socket.reducer.js","redux/root-reducer.js","history.js","components/userList/user-list.component.jsx","redux/user/user.action.js","redux/socket/socket.action.js","components/chat-pane/chat.pane.component.jsx","components/form/form.component.jsx","components/chat-box/chat-box.component.jsx","components/auth/auth.component.jsx","room.js","components/rooms/rooms.component.jsx","App.js","index.js"],"names":["INITIAL_STATE","activeUser","allUsers","UserReducer","state","action","type","_","mapKeys","payload","omit","socket","userCount","allMessageArray","userStartToType","isTyping","SocketReducer","t","filter","userStored","userName","uuid","combineReducers","user","history","createHashHistory","UserList","this","props","fetchUsers","className","users","map","React","Component","connect","Object","values","dispatch","getState","on","removeUserTyping","thisState","emit","updateSocket","ChatPane","message","i","onSubmit","form","reset","typing","onFormSubmit","uuidv4","render","handleSubmit","submitting","pristine","allowed","touched","replace","length","style","marginTop","name","placeholder","input","meta","onChange","e","monitorTyping","active","dirty","disabled","ChatBox","userSendMessage","Audio","play","document","querySelector","scrollIntoView","behavior","push","createSocketConnection","userRemove","connected","top","io","path","transports","socketId","id","count","messageObj","hasFocus","Auth","addUser","roomArray","title","owner","description","Rooms","room","App","exact","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","rootReducer","applyMiddleware","thunk","reactDom"],"mappings":"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","file":"static/js/main.d664e056.chunk.js","sourcesContent":["import _ from 'lodash'\n\nconst INITIAL_STATE = {\n    activeUser: {},\n    allUsers: {},\n}\n\nconst UserReducer = (state=INITIAL_STATE, action) => {\n    switch (action.type) {\n        case 'ADD_USER':\n            return { allUsers: _.mapKeys([action.payload], \"uuid\"), activeUser: action.payload}\n\n        case 'UPDATE_USER':\n            return { allUsers: _.mapKeys([action.payload], \"uuid\"), activeUser: action.payload}\n\n        case 'FETCH_USERS':\n            return {...state, allUsers: _.mapKeys(action.payload, \"uuid\")}\n            \n        case 'DELETE_USER':\n            return _.omit(state,action.payload);\n    \n        default:\n            return state;\n    }\n}\n\nexport default UserReducer;","const INITIAL_STATE = {\n    socket: null,\n    userCount: 0,\n    allMessageArray:[],\n    userStartToType:[],\n    isTyping: false\n}\n\n// message = [\n    //{\n    // userName: 'kan',\n    // sentMessage: 'adsasdad',\n// }]\n\nconst SocketReducer = (state=INITIAL_STATE, action) =>{\n\n    switch(action.type){\n        case 'CREATE_SOCKET':\n            return { ...state, socket: action.payload };\n\n        case 'UPDATE_SOCKET_STATUS':\n            return { ...state, socket: action.payload };\n\n        case 'GET_USER_COUNT':\n            return { ...state, userCount: action.payload }\n\n        case 'USER_REMOVE':\n            return { ...state, socket: null, allMessageArray:[] }\n\n        case 'USER_RECIEVE_MESSAGE':\n            return { ...state, allMessageArray: [...state.allMessageArray, action.payload] }\n\n        case 'USER_START_TO_TYPE':\n            return { ...state, userStartToType: [...state.userStartToType, action.payload] }\n\n        case 'SET_USER_TYPING_STATUS':\n            return { ...state, isTyping: true }\n\n        case 'REMOVE_USER_TYPING':\n            const t = state.userStartToType.filter(userStored=>((userStored.userName === action.payload.userName)&&(userStored.uuid===action.payload.uuid))? false: true);\n            return { ...state, userStartToType:t, isTyping: false}\n\n        default:\n            return state\n    }\n\n}\nexport default SocketReducer","import { combineReducers } from \"redux\";\nimport UserReducer from \"./user/user.reducer\"\nimport SocketReducer from \"./socket/socket.reducer\"\n\nexport default combineReducers({\n    user: UserReducer,\n    socket: SocketReducer,\n})","import { createHashHistory } from \"history\";\n\nconst history = createHashHistory();\n\nexport default history;","import React from \"react\";\nimport { connect } from 'react-redux'\nimport { fetchUsers } from '../../redux/user/user.action';\nimport \"./user-list.style.css\";\n\nclass UserList extends React.Component {\n    componentDidMount(){\n        this.props.fetchUsers();\n    }\n\n    render(){\n        if(!this.props.fetchUsers)return <div className=\"spinner\"></div>\n        return(\n            <section className=\"userlist\">\n                <h2 className=\"userlist__heading\">ALL users available</h2>\n                {this.props.users.map((user)=>{\n                    const ren =  (\n                        <h6 key={user.uuid} className=\"userlist__name\">{user.userName}</h6>\n                    )\n                    // console.log(ren);\n                    return ren;\n                })}\n            </section>\n            )\n    }\n}\nconst mapStateToProps = ({user}) => {\n    return{\n        users: Object.values(user.allUsers)\n    }\n}\nexport default connect(mapStateToProps, { fetchUsers })(UserList);","export const addUser = user => {\n    return {\n        type:'ADD_USER',\n        payload: user\n    }\n}\n\nexport const updateUser = user => {\n    return {\n        type:'UPDATE_USER',\n        payload: user\n    }\n}\n\nexport const fetchUsers = () => (dispatch,getState) => {\n    getState().socket.socket.on(\"allUsers\", user => {\n        dispatch({type:'FETCH_USERS', payload: user})\n    })\n}\n\nexport const deleteUser = id => {\n    return {\n        type:'DELETE_USER',\n        payload: id\n    }\n}","import { io } from \"socket.io-client\";\nimport { updateUser } from \"../user/user.action\";\n\nexport const createSocketConnection = () => (dispatch, getState)=> {\n    // const socket = io(\"http://localhost:8001\", {path:\"/global\",transports:[\"polling\", \"websocket\"]});\n    const socket = io(\"https://chat-app-co.herokuapp.com/\", {path:\"/global\",transports:[\"polling\", \"websocket\"]});\n    socket.on(\"connect\", () => {\n        let activeUser = getState().user.activeUser\n        dispatch(updateUser({...activeUser, socketId: socket.id}));\n        \n        dispatch(updateSocket(socket));\n        socket.emit(\"userConnected\", getState().user.activeUser);\n\n        // listening for clientCount event\n        socket.on(\"userCount\", (count) => {\n            dispatch(userCount(count));\n        })\n\n        socket.on(\"serverMessage\", ({messageObj}) => {\n            dispatch({type:'USER_RECIEVE_MESSAGE', payload: messageObj});\n            if (!document.hasFocus()) {\n                new Audio(\"https://chat-app-co.herokuapp.com/juntos-607.mp3\").play();\n            }\n        });\n\n        socket.on(\"userStartToType\", user => {\n            dispatch({type:'USER_START_TO_TYPE', payload: user})\n        })\n\n        socket.on(\"removeUserTyping\", user => {\n            dispatch({type:'REMOVE_USER_TYPING', payload: user})\n        });\n\n        socket.on(\"userJoinTheChat\", user => {\n            dispatch({type:'USER_JOIN_THE_CHAT', payload: user})\n        });\n\n        \n    });\n    dispatch(updateSocket(socket));\n}\n\nexport const userRemove = () => (dispatch, thisState) => {\n    thisState().socket.socket?.emit(\"userRemove\");\n    dispatch({type:\"USER_REMOVE\"});\n}\n\nexport const userSendMessage = (values) => (dispatch, thisState) => {\n    thisState().socket.socket.emit(\"userMessage\", values);\n\n    // probably dispatch some time later \n}\n\nexport const userStartToType = (activeUser) => (dispatch, thisState) => {\n\n    thisState().socket.socket?.emit(\"userStartToType\", activeUser);    \n    dispatch({type:'SET_USER_TYPING_STATUS'})\n\n\n    // probably dispatch some time later \n}\n\nexport const removeUserTyping = (activeUser) => (dispatch, thisState) => {\n    thisState().socket.socket?.emit(\"removeUserTyping\", activeUser);    \n\n    // probably dispatch some time later \n}\n\n\nconst updateSocket = (socket) => {\n    return {type:\"UPDATE_SOCKET_STATUS\",payload:socket}\n}\n\nconst userCount = (userCount) => {\n    return {type:\"GET_USER_COUNT\", payload: userCount}\n}","import React from \"react\";\nimport \"./chat.pane.styles.css\";\n\nconst ChatPane = (props) => {\n    return(\n    <div className=\"chat__pane\">\n        <ul>\n        {props.message.map(\n            ({message, user}) => {\n                return(\n                    <li key={message.uuid} className=\"chat__description\" >\n                        <span className={user.userName===props.userName? \"usernameBlue\": \"usernameRed\"}>{user.userName}</span>: <span>{message.message}</span>\n                    </li>\n                )\n            }\n        )}\n        <div className=\"chat__border\"></div>\n        </ul>\n        {props.userStartToType?.map((user,i)=>{\n            return <p key={i}className=\"chat__typing\">{ user.userName }\n                <span className=\"chat__dot1\">.</span>\n                <span className=\"chat__dot2\">.</span>\n                <span className=\"chat__dot3\">.</span>\n            </p>\n        })}\n    </div>\n    )\n}\nexport default ChatPane;","import React from \"react\";\nimport { Form, Field } from \"react-final-form\";\nimport { connect } from \"react-redux\";\nimport {v4 as uuidv4} from 'uuid';\nimport { userStartToType, removeUserTyping } from '../../redux/socket/socket.action';\n\nimport \"./form.styles.css\"\n\nconst onFormSubmit = (values, form, props) => {\n  form.reset({\"message\":\"\", typing: false});\n  props.onFormSubmit({...values,uuid:uuidv4()}, props)\n}\n\nconst FormComponent = (props) => {\n\n  return (\n    <Form\n\n      onSubmit={(values, form)=>onFormSubmit(values, form, props)}\n      render={({ handleSubmit, submitting, pristine, values, touched}) => {\n        let allowed = true\n        if (!values.message || values.message.replace(/\\s/g, '').length) {\n          allowed = false;\n        }\n        if(props.isTyping && !values.message)props.removeUserTyping(props.user);\n        return (<form onSubmit={handleSubmit} className=\"form\" style={props.marginTop}>\n          <Field\n          name={props.name}\n          placeholder={props.placeholder}\n          className=\"form__input\"\n          render={({input, meta})=>{\n            return(\n              <input {...input} className=\"form__input\"\n              onChange={(e) => {\n                input.onChange(e);\n                if(props.monitorTyping){\n                  if(meta.active && !meta.dirty)props.userStartToType(props.user);\n                }\n                \n              }}\n              />\n            )\n          }}\n          />\n\n          <button \n          className=\"form__button\"\n          type=\"submit\" \n          disabled={submitting || pristine || allowed}\n          >\n          Submit\n          </button>\n        </form>\n        )\n      }}\n    />\n  );\n};\nconst mapStateToProps = ({ socket, user }) => {\n  // console.log(socket);\n  return {\n    user: user.activeUser,\n    isTyping: socket.isTyping\n  }\n}\nexport default connect(mapStateToProps, { userStartToType, removeUserTyping })(FormComponent);","import React from 'react';\nimport { connect } from 'react-redux';\nimport history from '../../history';\nimport UserList from '../userList/user-list.component';\nimport { \n    createSocketConnection, \n    userRemove, \n    userSendMessage,\n    removeUserTyping,\n} from '../../redux/socket/socket.action';\nimport ChatPane from '../chat-pane/chat.pane.component';\nimport FormComponent from '../form/form.component';\n\nimport './chat-box.styles.css'\n\nclass ChatBox extends React.Component {\n    onFormSubmit = (message) => {\n        this.props.userSendMessage({message, user:this.props.user});\n        new Audio(\"https://chat-app-co.herokuapp.com/bubble_pop_3.mp3\").play();\n        document.querySelector(\".chat__border\").scrollIntoView({behavior: \"smooth\"});\n        this.props.removeUserTyping(this.props.user);\n    }\n\n    componentDidMount(){\n        if(!this.props.user.userName){history.push(\"/\"); return null;}\n        this.props.createSocketConnection();\n    }\n\n    componentWillUnmount() {\n        this.props.removeUserTyping(this.props.user);\n        this.props?.userRemove();\n    }\n\n    render(){\n        if(!this.props.socket || !this.props.socket.connected){\n            return <div className=\"spinner\"></div>\n        }\n        return(\n            <section className=\"chat\">\n                <div className=\"chat__left\">\n                    <h1 className=\"chat__heading\">Welcome {this.props.user.userName}</h1>\n                    <h4 className=\"chat__secondary\">Total users connected {this.props.userCount}</h4>\n                \n                <ChatPane \n                    message={this.props.message} \n                    userStartToType={this.props.userStartToType}\n                    userName={this.props.user.userName}\n                />\n                </div>\n                <div className=\"chat__right\">\n                    <UserList />\n                </div>\n                <FormComponent \n                    placeholder=\"Enter message\" \n                    name=\"message\" \n                    onFormSubmit={this.onFormSubmit}\n                    monitorTyping={true}\n                    marginTop={{top:'90%'}}\n                />\n            </section>\n        )\n    }\n}\n\nconst mapStateToProps = ({ socket, user }) => {\n    // console.log(user.socketId)\n    return {\n        // below line make sure everytime state change this component re-redner\n        socket: {...socket.socket},\n        userCount: socket.userCount,\n        message: socket.allMessageArray,\n        user: user.activeUser,\n        userStartToType: socket.userStartToType\n    }\n}\nexport default connect(mapStateToProps, { \n    createSocketConnection, \n    userRemove, \n    userSendMessage,\n    removeUserTyping,\n})(ChatBox);","import React from 'react';\nimport { connect } from 'react-redux';\nimport { addUser } from '../../redux/user/user.action';\nimport FormComponent from '../form/form.component'\n\nimport history from '../../history';\nimport { v4 as uuidv4 } from 'uuid';\nimport './auth.styles.css';\n\nclass Auth extends React.Component {\n    onFormSubmit = ({userName}) => {\n        const user = {userName, uuid:uuidv4()};\n        this.props.addUser(user);\n        history.push(\"/chat\");\n    }\n    render(){\n        return (\n            <div className=\"auth\">\n                <FormComponent \n                placeholder=\"Enter name\" \n                onFormSubmit={this.onFormSubmit} \n                name=\"userName\"\n                marginTop={{top:'50%'}}\n                />\n            </div>\n        )\n    }\n}\nexport default connect(null, { addUser })(Auth);","export const roomArray = \n[\n    {\n        id: 1,\n        title: \"Engineering\",\n        owner: \"kanishk\",\n        description: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque sed dictum elit, quis fringilla leo. Suspendisse potenti. Nulla porta arcu leo, ut hendrerit odio tristique aliquet. Aliquam scelerisque odio urna, sit amet fringilla dui blandit vel. Mauris auctor posuere gravida. Nam imperdiet vulputate feugiat. Mauris faucibus ligula vel leo varius rutrum id ut odio. Curabitur enim neque, dignissim nec suscipit vitae, luctus in neque. Praesent nec odio posuere, tempor neque sed, vulputate orci. Nunc sapien libero, ullamcorper eu fermentum eget, vehicula eu felis. Aenean ut neque urna.\",\n    },\n    {\n        id: 2,\n        title: \"Love\",\n        owner: \"kanishk\",\n        description: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque sed dictum elit, quis fringilla leo. Suspendisse potenti. Nulla porta arcu leo, ut hendrerit odio tristique aliquet. Aliquam scelerisque odio urna, sit amet fringilla dui blandit vel. Mauris auctor posuere gravida. Nam imperdiet vulputate feugiat. Mauris faucibus ligula vel leo varius rutrum id ut odio. Curabitur enim neque, dignissim nec suscipit vitae, luctus in neque. Praesent nec odio posuere, tempor neque sed, vulputate orci. Nunc sapien libero, ullamcorper eu fermentum eget, vehicula eu felis. Aenean ut neque urna.\",\n    },\n    \n]\n\n// export const roomArray = []","import React from 'react';\nimport { roomArray } from '../../room.js'\n\nconst Rooms = () => {\n    return (\n    <section className=\"rooms\">\n        <h1>All available rooms</h1>\n        {roomArray.map((room)=>{\n            return (<div key={room.id} className=\"card\">\n                <div className=\"card__title\">{ room.title }</div>\n                <div className=\"card__description\">{ room.description }</div>\n            </div>)\n        })}\n    </section>\n    )\n}\n\nexport default Rooms;","import React from \"react\";\nimport { Router, Route } from 'react-router-dom';\nimport history from \"./history\";\n\nimport ChatBox from \"./components/chat-box/chat-box.component\";\nimport Auth from './components/auth/auth.component';\nimport Rooms from './components/rooms/rooms.component';\nimport './App.css';\n\nclass App extends React.Component{\n    render(){\n        return (\n        <div>\n            <Router history={history}>\n                <Route path=\"/\" exact>\n                    <Auth/>\n                </Route>\n                <Route path=\"/rooms\" exact>\n                    <Rooms/>\n                </Route>\n                <Route path=\"/chat\">\n                    <ChatBox/>\n                </Route>\n            </Router>\n        </div>\n        )\n    }\n}\n\nexport default App;","import React from \"react\";\nimport reactDom from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport { createStore, compose, applyMiddleware } from \"redux\";\nimport rootReducer from \"./redux/root-reducer\";\nimport thunk from \"redux-thunk\";\nimport App from \"./App\";\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nexport const store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunk)));\n\nreactDom.render(\n    <Provider store={store}>\n        <App/>\n    </Provider>,\n    document.querySelector(\"#root\")\n)"],"sourceRoot":""}